import './polyfills.server.mjs';
import{e as x,f as w,l as S}from"./chunk-IVAITIL2.mjs";import{$ as y,L as p,P as g,Ta as d,V as c,W as _,_ as o,c as h,ea as m,f as a,k as C,rc as v,v as R,x as u,y as f}from"./chunk-MSRZK6WW.mjs";var E=20,me=(()=>{let t=class t{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=E){return this._platform.isBrowser?new h(i=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(f(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):C()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(u(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=x(i),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return R(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(o(d),o(w),o(v,8))},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var I=20,ve=(()=>{let t=class t{constructor(e,i,r){this._platform=e,this._change=new a,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),z=-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,O=-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:z,left:O}}change(e=I){return e>0?this._change.pipe(f(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(i){return new(i||t)(o(w),o(d),o(v,8))},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var D=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=m({type:t}),t.\u0275inj=_({});let n=t;return n})(),we=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=m({type:t}),t.\u0275inj=_({imports:[S,D,S,D]});let n=t;return n})();var b=class{constructor(t){this._box=t,this._destroyed=new a,this._resizeSubject=new a,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(l=>this._resizeSubject.next(l)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new h(l=>{let e=this._resizeSubject.subscribe(l);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),e.unsubscribe(),this._elementObservables.delete(t)}}).pipe(u(l=>l.some(e=>e.target===t)),p({bufferSize:1,refCount:!0}),g(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},xe=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=y(d),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new b(r)),this._observers.get(r).observe(e)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();export{me as a,ve as b,D as c,we as d,xe as e};
