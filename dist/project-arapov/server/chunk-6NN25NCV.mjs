import './polyfills.server.mjs';
var o={_origin:"https://api.emailjs.com"};var u=(e,t="https://api.emailjs.com")=>{o._userID=e,o._origin=t};var d=(e,t,s)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};var m=class{constructor(t){this.status=t.status,this.text=t.responseText}};var c=(e,t,s={})=>new Promise((a,i)=>{let n=new XMLHttpRequest;n.addEventListener("load",({target:r})=>{let p=new m(r);p.status===200||p.text==="OK"?a(p):i(p)}),n.addEventListener("error",({target:r})=>{i(new m(r))}),n.open("POST",o._origin+e,!0),Object.keys(s).forEach(r=>{n.setRequestHeader(r,s[r])}),n.send(t)});var f=(e,t,s,a)=>{let i=a||o._userID;return d(i,e,t),c("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"})};var h=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},l=(e,t,s,a)=>{let i=a||o._userID,n=h(s);d(i,e,t);let r=new FormData(n);return r.append("lib_version","3.2.0"),r.append("service_id",e),r.append("template_id",t),r.append("user_id",i),c("/api/v1.0/email/send-form",r)};var E={init:u,send:f,sendForm:l};export{E as a};
